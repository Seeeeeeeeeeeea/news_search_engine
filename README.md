# ğŸ“° News Search Engine (ä¸­æ–‡æ–°é—»æœç´¢å¼•æ“)

[![Python](https://img.shields.io/badge/Python-3.8%2B-blue)](https://www.python.org/)
[![Flask](https://img.shields.io/badge/Framework-Flask-green)](https://flask.palletsprojects.com/)
[![Jieba](https://img.shields.io/badge/NLP-jieba-orange)](https://github.com/fxsjy/jieba)
[![License](https://img.shields.io/badge/license-MIT-green)](LICENSE)

åŸºäº **Flask** å’Œ **jieba** æ„å»ºçš„è½»é‡çº§ä¸­æ–‡æ–°é—»æœç´¢å¼•æ“ã€‚æœ¬é¡¹ç›®å®ç°äº†ä»æ•°æ®çˆ¬å–ã€ç´¢å¼•æ„å»ºåˆ°æ£€ç´¢æ’åºçš„å…¨æµç¨‹ï¼Œå¹¶é›†æˆäº† AI æ¨¡å‹ï¼ˆOpenAI / ModelScopeï¼‰å®ç°æ™ºèƒ½æ‘˜è¦ç”Ÿæˆã€‚

æ—¨åœ¨æ¼”ç¤ºå°è§„æ¨¡ä¸­æ–‡è¯­æ–™çš„å…¨æ–‡æ£€ç´¢ã€TF-IDF/BM25 æ’åºç®—æ³•ä»¥åŠå¤§æ¨¡å‹åº”ç”¨èƒ½åŠ›ã€‚

å¦‚æœæœ¬é¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹ä¸ª â­ **Star** æ”¯æŒï¼

---

## âœ¨ åŠŸèƒ½æ¦‚è§ˆ

- ğŸ” **å…¨æ–‡æ£€ç´¢**ï¼šåŸºäº BM25 ç®—æ³•çš„é«˜æ•ˆä¸­æ–‡å…³é”®è¯æ£€ç´¢ã€‚
- ğŸ¤– **AI æ™ºèƒ½æ‘˜è¦**ï¼šé›†æˆ ModelScope/OpenAI æ¥å£ï¼Œè‡ªåŠ¨ä¸ºæœç´¢ç»“æœç”Ÿæˆç²¾ç‚¼æ‘˜è¦ã€‚
- ğŸ“‘ **å®Œæ•´é˜…è§ˆ**ï¼šæä¾›æ–°é—»è¯¦æƒ…é¡µã€å…³é”®è¯é«˜äº®åŠåˆ†é¡µæµè§ˆåŠŸèƒ½ã€‚
- ğŸ“Š **å¤šç»´æ’åº**ï¼šæ”¯æŒæŒ‰â€œç›¸å…³åº¦â€ã€â€œå‘å¸ƒæ—¶é—´â€æˆ–â€œçƒ­åº¦â€å¯¹ç»“æœè¿›è¡Œæ’åºã€‚
- ğŸ•·ï¸ **è‡ªåŠ¨åŒ–æ•°æ®æµ**ï¼šåŒ…å«ä¸€é”®çˆ¬è™«ä¸ç´¢å¼•æ„å»ºè„šæœ¬ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| æ¨¡å— | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| **åç«¯æ¡†æ¶** | Flask | Python 3.8+ Web æœåŠ¡ |
| **ä¸­æ–‡åˆ†è¯** | jieba | ç²¾ç¡®æ¨¡å¼åˆ†è¯ |
| **æ£€ç´¢ç®—æ³•** | BM25 | ç›¸æ¯” TF-IDF å…·æœ‰æ›´å¥½çš„ç›¸å…³æ€§è¯„åˆ† |
| **AI æœåŠ¡** | OpenAI / ModelScope | ç”¨äºç”Ÿæˆæ–°é—»æ‘˜è¦ï¼ˆå¯é…ç½®ï¼‰ |
| **æ•°æ®å­˜å‚¨** | SQLite | è½»é‡çº§æ•°æ®åº“ï¼Œæ— éœ€é¢å¤–é…ç½® |
| **å‰ç«¯æ¨¡æ¿** | Jinja2 + HTML/CSS | ç®€æ´çš„å“åº”å¼ç•Œé¢ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æ‚¨çš„ç¯å¢ƒä¸­å·²å®‰è£… Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚

```bash
git clone https://github.com/Seeeeeeeeeeeea/news_search_engine
cd news_search_engine
pip install -r requirements.txt
```

### 2. æ•°æ®åˆå§‹åŒ– (é‡è¦)

é¦–æ¬¡è¿è¡Œå‰ï¼Œéœ€æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬ä»¥çˆ¬å–æ•°æ®ã€æ„å»ºå€’æ’ç´¢å¼•å¹¶ç”Ÿæˆæ¨èæ•°æ®åº“ï¼š

```bash
# ç¡®ä¿æ ¹ç›®å½•ä¸‹ config.ini å·²é…ç½®æ­£ç¡®
python code/setup.py
```
> **æç¤º**ï¼šè¯¥è„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œçˆ¬è™« (`spider.chinanews.com.py`) å’Œç´¢å¼•æ„å»º (`index_module.py`)ã€‚

### 3. å¯åŠ¨æœåŠ¡

```bash
cd web
python main.py
```

å¯åŠ¨æˆåŠŸåï¼Œåœ¨æµè§ˆå™¨è®¿é—®ï¼š[http://127.0.0.1:5000](http://127.0.0.1:5000)

## âš™ï¸ é…ç½®è¯´æ˜

é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `config.ini` æ§åˆ¶äº†æ ¸å¿ƒå‚æ•°ã€‚

### åŸºç¡€é…ç½®
```ini
[DEFAULT]
doc_dir_path = ./data/news/       # æ–°é—»æ•°æ®å­˜å‚¨è·¯å¾„
db_path = ./data/ir.db            # æ•°æ®åº“è·¯å¾„
stop_words_path = ./data/stop_words.txt
# BM25 ç®—æ³•å‚æ•° (æ ¹æ®è¯­æ–™è°ƒæ•´)
k1 = 1.5
b = 0.75
```

### AI æ‘˜è¦é…ç½®
å¦‚éœ€å¯ç”¨ AI æ‘˜è¦ï¼Œè¯·ä¿®æ”¹ `[AI]` éƒ¨åˆ†ï¼š

```ini
[AI]
enabled = true                    # true å¼€å¯, false å…³é—­
api_type = openai                 # å¯é€‰: openai æˆ– modelscope
api_base = https://api.openai.com/v1
api_key = your_api_key_here       # å¡«å…¥ä½ çš„ API Key
model = gpt-3.5-turbo             # æ¨¡å‹åç§°
```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
news-search-engine/
â”œâ”€â”€ code/                   # æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ index_module.py     # å€’æ’ç´¢å¼•æ„å»º
â”‚   â”œâ”€â”€ spider.*.py         # çˆ¬è™«è„šæœ¬
â”‚   â””â”€â”€ setup.py            # ä¸€é”®åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ data/                   # æ•°æ®ä»“åº“
â”‚   â”œâ”€â”€ news/               # çˆ¬å–çš„ XML æ–°é—»æ–‡ä»¶
â”‚   â”œâ”€â”€ ir.db               # SQLite æ•°æ®åº“
â”‚   â””â”€â”€ ...                 # åœç”¨è¯è¡¨ã€IDF è¡¨ç­‰
â”œâ”€â”€ web/                    # Web åº”ç”¨
â”‚   â”œâ”€â”€ static/             # CSS/JS èµ„æº
â”‚   â”œâ”€â”€ templates/          # HTML æ¨¡æ¿
â”‚   â””â”€â”€ main.py             # Flask å…¥å£
â”œâ”€â”€ config.ini              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt        # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ LICENSE                 # è®¸å¯è¯æ–‡ä»¶
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## ğŸ”Œ API ç®€è¿°

åç«¯æä¾›ä»¥ä¸‹ API ä¾›å‰ç«¯æˆ–ç¬¬ä¸‰æ–¹è°ƒç”¨ï¼š

- **æœç´¢**ï¼š`GET /search/`
  - å‚æ•°ï¼š`key_word` (æœç´¢è¯)
- **åˆ†é¡µ**ï¼š`GET /search/page/<page_no>/`
  - å‚æ•°ï¼š`page_no` (é¡µç )
- **è¯¦æƒ…**ï¼š`GET /search/<id>/`
  - å‚æ•°ï¼š`id` (æ–°é—»æ–‡æ¡£ ID)

## ğŸ“ å¼€å‘æŒ‡å—

1. **Web å¼€å‘**ï¼šåœ¨ `web/main.py` ä¿®æ”¹è·¯ç”±ï¼Œ`web/templates/` ä¿®æ”¹é¡µé¢æ ·å¼ã€‚
2. **ç®—æ³•ä¼˜åŒ–**ï¼šæ ¸å¿ƒæ£€ç´¢é€»è¾‘ä½äº `code/` ç›®å½•ä¸‹ï¼Œä¿®æ”¹åå»ºè®®é‡æ–°è¿è¡Œ `setup.py` æ›´æ–°ç´¢å¼•ã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

**Jiahhao Yang (æ¨ä½³è±ª)**

- ğŸ“§ Email: jhyang2369@stu.xidian.edu.cn

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) åè®®å¼€æºã€‚

---

## ğŸ¤ è‡´è°¢

æœ¬é¡¹ç›®å—åˆ° [news-search-engine](https://github.com/01joy/news-search-engine) çš„å¯å‘ï¼Œæ„Ÿè°¢åŸä½œè€…ï¼

