# News Search Engine

ä¸€ä¸ªåŸºäºFlaskå’Œjiebaçš„ä¸­æ–‡æ–°é—»æœç´¢å¼•æ“ï¼Œæ”¯æŒAIæ™ºèƒ½æ€»ç»“åŠŸèƒ½ã€‚

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ‚¨ä¸å¦¨ç»™æˆ‘ä¸€ä¸ª â­ Starï¼

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **å…¨æ–‡æœç´¢**: æ”¯æŒä¸­æ–‡å…³é”®è¯æœç´¢ï¼ŒåŸºäºBM25ç®—æ³•
- ğŸ¤– **AIæ™ºèƒ½æ€»ç»“**: é›†æˆAI APIå¯¹æœç´¢ç»“æœè¿›è¡Œæ™ºèƒ½æ€»ç»“
- ğŸ“„ **æ–°é—»å†…å®¹å±•ç¤º**: å®Œæ•´çš„æ–°é—»é˜…è¯»ç•Œé¢
- ğŸ¨ **ç°ä»£åŒ–UI**: å“åº”å¼è®¾è®¡ï¼Œç¾è§‚çš„æœç´¢ç•Œé¢
- ğŸ”„ **åˆ†é¡µæµè§ˆ**: æ”¯æŒæœç´¢ç»“æœåˆ†é¡µæ˜¾ç¤º
- ğŸ“Š **æ’åºåŠŸèƒ½**: æŒ‰ç›¸å…³åº¦ã€æ—¶é—´ã€çƒ­åº¦æ’åº

## æŠ€æœ¯æ ˆ

- **åç«¯**: Flask, Python 3.8+
- **åˆ†è¯**: jieba
- **æœç´¢ç®—æ³•**: BM25
- **AIæ€»ç»“**: OpenAI API / ModelScope API
- **æ•°æ®åº“**: SQLite
- **å‰ç«¯**: HTML5, CSS3, Jinja2æ¨¡æ¿

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- pip

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/your-username/news-search-engine.git
   cd news-search-engine
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   ```

3. **é…ç½®å‚æ•°**
   
   ç¼–è¾‘ `config.ini` æ–‡ä»¶ï¼Œè®¾ç½®å¿…è¦çš„å‚æ•°ï¼š
   ```ini
   [DEFAULT]
   doc_dir_path = ./data/news/
   db_path = ./data/ir.db
   # ... å…¶ä»–é…ç½®
   ```

4. **è¿è¡Œåº”ç”¨**
   ```bash
   cd web
   python main.py
   ```

5. **è®¿é—®åº”ç”¨**
   
   æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://127.0.0.1:5000

## é¡¹ç›®ç»“æ„

```
news-search-engine-master/
â”œâ”€â”€ code/                    # æ ¸å¿ƒç®—æ³•å’Œçˆ¬è™«ä»£ç 
â”‚   â”œâ”€â”€ index_module.py     # ç´¢å¼•æ¨¡å—
â”‚   â”œâ”€â”€ recommendation_module.py  # æ¨èæ¨¡å—
â”‚   â”œâ”€â”€ search_engine.py    # æœç´¢å¼•æ“æ ¸å¿ƒ
â”‚   â””â”€â”€ spider.*.py         # æ–°é—»çˆ¬è™«
â”œâ”€â”€ data/                   # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ news/              # æ–°é—»XMLæ–‡ä»¶
â”‚   â”œâ”€â”€ idf.txt            # IDFæ–‡ä»¶
â”‚   â”œâ”€â”€ stop_words.txt     # åœç”¨è¯
â”‚   â””â”€â”€ ir.db              # SQLiteæ•°æ®åº“
â”œâ”€â”€ web/                   # Webåº”ç”¨
â”‚   â”œâ”€â”€ templates/         # HTMLæ¨¡æ¿
â”‚   â”œâ”€â”€ main.py           # Flaskåº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ ai_summary.py     # AIæ€»ç»“æ¨¡å—
â”‚   â””â”€â”€ search_engine.py  # æœç´¢æ¥å£
â”œâ”€â”€ config.ini            # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt      # Pythonä¾èµ–
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜
```

## é…ç½®è¯´æ˜

### åŸºæœ¬é…ç½® (config.ini)

```ini
[DEFAULT]
doc_dir_path = ./data/news/          # æ–°é—»æ–‡ä»¶ç›®å½•
doc_encoding = utf-8                 # æ–‡ä»¶ç¼–ç 
stop_words_path = ./data/stop_words.txt  # åœç”¨è¯æ–‡ä»¶
idf_path = ./data/idf.txt           # IDFæ–‡ä»¶
db_path = ./data/ir.db              # æ•°æ®åº“æ–‡ä»¶

# BM25å‚æ•°
k1 = 1.5
b = 0.75
n = 2449                            # æ–‡æ¡£æ€»æ•°
avg_l = 279.09064924458966          # å¹³å‡æ–‡æ¡£é•¿åº¦
```

### AIæ€»ç»“é…ç½®

```ini
[AI]
enabled = true                      # å¯ç”¨AIæ€»ç»“
api_type = openai                   # APIç±»å‹: openai æˆ– modelscope
api_base = https://api.openai.com/v1  # APIåŸºç¡€URL
api_key = your_api_key_here         # APIå¯†é’¥
model = gpt-3.5-turbo               # ä½¿ç”¨çš„æ¨¡å‹
```

## ä½¿ç”¨æ–¹æ³•

1. **æœç´¢æ–°é—»**
   - åœ¨é¦–é¡µè¾“å…¥å…³é”®è¯
   - ç‚¹å‡»æœç´¢æŒ‰é’®

2. **æŸ¥çœ‹ç»“æœ**
   - æµè§ˆæœç´¢ç»“æœåˆ—è¡¨
   - ç‚¹å‡»æ ‡é¢˜æŸ¥çœ‹æ–°é—»è¯¦æƒ…

3. **AIæ€»ç»“**
   - æœç´¢åè‡ªåŠ¨ç”ŸæˆAIæ€»ç»“ï¼ˆå¦‚æœå¯ç”¨ï¼‰

4. **é«˜çº§æœç´¢**
   - ä½¿ç”¨æ’åºåŠŸèƒ½ï¼šç›¸å…³åº¦ã€æ—¶é—´ã€çƒ­åº¦

## æ•°æ®æ›´æ–°

è¿è¡Œçˆ¬è™«è„šæœ¬æ›´æ–°æ–°é—»æ•°æ®ï¼š
```bash
python code/spider.chinanews.com.py
```

## APIæ¥å£

### æœç´¢æ¥å£
```
GET/POST /search/
å‚æ•°: key_word (æœç´¢å…³é”®è¯)
```

### æ–°é—»è¯¦æƒ…
```
GET /search/<id>/
å‚æ•°: id (æ–°é—»ID)
```

### åˆ†é¡µæµè§ˆ
```
GET /search/page/<page_no>/
å‚æ•°: page_no (é¡µç )
```

## å¼€å‘è¯´æ˜

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `web/` ç›®å½•ä¸‹æ·»åŠ æ–°æ¨¡å—
2. åœ¨ `main.py` ä¸­æ·»åŠ è·¯ç”±
3. æ›´æ–°æ¨¡æ¿æ–‡ä»¶

### ç´¢å¼•é‡å»º

æ›´æ–°ç´¢å¼•æ–‡ä»¶ï¼š
```bash
python code/index_module.py
```



## ä½œè€…

**Jiahhao Yang (æ¨ä½³è±ª)**  
ğŸ“§ jhyang2369@stu.xidian.edu.cn

---

